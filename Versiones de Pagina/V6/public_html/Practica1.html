<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" type="text/css" href="EstiloP1.css">
        <title>Practica 1 - A </title>
        <script language="JavaScript">
    	
    	//--------------------------------- FUNCIONES DE COMPROBACION DE DATOS
    	//Comprobaciones - Robustez
    	function esNumero(num){//funcion que si se le pasa un valor no numerico devuelve false
    		if (isNaN(num)){
    			return false;
    		}else{
    			return true;
    		}
    	}
    	
    	function esVacio(elemento){//Si esta vacio devuelve true
    		if(elemento == ""|| elemento== null || /^\s+$/.test(elemento)){
    			return true;
    		}else{
    			return false;
    		}
    	}
    	
    	function esNegativo(elemento){
    		if(elemento<0){
    			return true;
    		}else{
    			return false;
    		}
    	}
    	//-------------------------- FIN DE FUNCIONES DE COMPROBACION DE DATOS
    	//--------------------------------------------------------------------
    	//--------------------------------------------------------------------
    	
    	
    	/*-------------------------------FUNCIONES DE PRACTICA 1-A--------------------------*/
    	
    	//1º A partir de los siguiente valores que se proporciona: true, 5, false, "hola", "adios", 2
    	/*
		 *	a) Crear y asignar variables para cada valor
		 */
		var booleano1 = true;
		var booleano2 = false;
		var num1 = 5;
		var num2 = 2;
		var string1 = "hola";
		var string2 = "adios";
		
		/*
		 * b) Determinar cual de los dos elementos de texto es mayor
		 */
		function mayorString(){
			if(string1.length > string2.length){
				alert("La cadena "+string1+" es mayor que "+string2);
			}else{
				alert("La cadena "+string2+" es mayor que "+string1);
			}
		}
		
		/*
		 * c) Utilizando exclusivamente los dos valores booleanos, determinar los 
		 * operadores necesarios para obtener un resultado true y otro resultado false
		 */
		
		function booleanos(){
			var boT = booleano1 || booleano2;
			var boF = booleano1 && booleano2;
			
			alert("var boT = booleano1 || booleano2; = "+boT);
			alert("var boF = booleano1 && booleano2; = "+boF);	
		}
		
		/*
		 * d) Determinar el resultado de las cinco operaciones matemáticas realizadas
		 *  con los dos elementos numéricos
		 */
		function controlDeOpMatematicas(){
			alert(" La suma es = "+suma()+"\n La resta es = "+resta()+"\n El producto es = "
			+producto()+"\n La division es = "+division()+"\n El resto es = "+resto());
		}
		function suma(){
			var result = num1+num2;
			return result;
		}
		
		function resta(){
			var result = num1-num2;
			return result;
		}
		
		function producto(){
			var result = num1*num2;
			return result;
		}
		
    	function division(){
			var result = num1/num2;
			return result;
		}
		
		function resto(){
			var result = num1%num2;
			return result;
		}
		
		//2º. Pedir al usuario tres valores numéricos y determinar el orden ascendente de dichos valores
		function ordenarAscendente(){
			var num1 = prompt("Introduce el 1º numero");
			var num2 = prompt("Introduce el 2º numero");
			var num3 = prompt("Introduce el 3º numero");
			
			/*------------------------------------------------------------*/
			/*----------------BLOQUE COMPROBACION DATOS-------------------*/
			/*------------------------------------------------------------*/
			var bol1 = esNumero(num1);
			var bol2 = esNumero(num2);
			var bol3 = esNumero(num3);
			//Comprobacion tipo de variables
			if (!bol1 || !bol2 || !bol3){
				alert("Uno o mas valores introducidos no son numericos");
				return;
			}
			//Comprobacion si esta vacio alguno de los numeros
			if(esVacio(num1)||esVacio(num2)||esVacio(num3)){
				alert("Uno o mas numeros no tiene valor");
				return;
			}
			/*------------------------------------------------------------*/
			/*----------------------FIN COMPROBACIONES--------------------*/
			/*------------------------------------------------------------*/			
			
			var numero = [];
			
			if (num1 < num2 && num1 < num3){
				numero[0]=num1;
				if (num2 < num3){
				 	numero[1]=num2;
				 	numero[2]=num3;
				}
				else{
					numero[1]=num3;
				 	numero[2]=num2;
				}
			}
			
			else if (num2 < num1 && num2 < num3){
				numero[0]=num2;
				if (num1 < num3){
				 	numero[1]=num1;
				 	numero[2]=num3;
				}
				else{
					numero[1]=num3;
				 	numero[2]=num1;
				}
			}
			
			else if (num3 < num2 && num3 < num1){
				numero[0]=num3;
				if (num1 < num2){
				 	numero[1]=num1;
				 	numero[2]=num2;
				 }
				 else{
				 	numero[1]=num2;
				 	numero[2]=num1;
				 }
			}
			alert(numero[0]);
			alert(numero[1]);
			alert(numero[2]);
		}
		
		
		// Completar las condiciones de los if del siguiente script 
		//para que los mensajes de los alert() se muestren siempre de forma correcta
		function ejer3(){
			var numero1 = 5;
			var numero2 = 8;
			 
			if(numero1<numero2) {
			  alert("numero1 no es mayor que numero2");
			}
			
			if(numero2>0) {
			  alert("numero2 es positivo");
			}
			if(numero1>!0) {
			  alert("numero1 es negativo o distinto de cero");
			}
			numeroAux = numero1 ++;
			if(numeroAux<=numero2) {
			  alert("Incrementar en 1 unidad el valor de numero1 no lo hace mayor o igual que numero2");
			}
		}
		
		/*Utilizando la estructura for, crear un script que calcule el factorial de un número entero que el
		usuario introducirá por teclado. Validar la entrada de que sea un número entero, en el caso de
		que no introduzca un valor numérico adecuado, mostraremos una caja de aviso mediante alert y
		volveremos a solicitarle un número válido*/
		function factorial(){
			var numero = prompt("Introduce un numero para calcular su factorial: ");
			
			/*------------------------------------------------------------*/
			/*----------------BLOQUE COMPROBACION DATOS-------------------*/
			/*------------------------------------------------------------*/
			//Comprobacion tipo de variables
			if (!esNumero(numero)){
				alert("El valor introducido no es un numero");
				return;
			}
			//Comprobacion si esta vacio alguno de los numeros
			if(esVacio(numero)){
				alert("No ha introducido ningun valor");
				return;
			}
			//Comprobacion si es un numero negativo
			if(esNegativo(numero)){
				alert("El valor introducido es negativo");
				return;
			}
			/*------------------------------------------------------------*/
			/*----------------------FIN COMPROBACIONES--------------------*/
			/*------------------------------------------------------------*/		
			
			var numeroAux = numero;
			var result = 1;
			for (var i=numero;i>1; i--)
			{
				result = numeroAux * result;
				numeroAux--;
			}
			alert("El factorial de "+numero+" es "+result);
			continuarEjecucion("factorial();");
		}
		
		function fibonaci(){
			var numero = prompt("Introduce el numero para la funcion de fibonaci: ");
			
			/*------------------------------------------------------------*/
			/*----------------BLOQUE COMPROBACION DATOS-------------------*/
			/*------------------------------------------------------------*/
			//Comprobacion tipo de variables
			if (!esNumero(numero)){
				alert("El valor introducido no es un numero");
				return;
			}
			//Comprobacion si esta vacio alguno de los numeros
			if(esVacio(numero)){
				alert("No ha introducido ningun valor");
				return;
			}
			//Comprobacion si es un numero negativo
			if(esNegativo(numero)){
				alert("El valor introducido es negativo");
				return;
			}
			/*------------------------------------------------------------*/
			/*----------------------FIN COMPROBACIONES--------------------*/
			/*------------------------------------------------------------*/
			
			var numeros = new Array(numero);//Almacenaremos la serie de numero en este array con el tamaño de numero
			var numeroActual = 1;
			var numeroAnterior = 0;
			var result = 0;
			var resultFinal = 0;
			for (var i = 0;i<numero;i++){
				result = numeroActual  + numeroAnterior;
				numeroAnterior = numeroActual;
				numeroActual = result;
				resultFinal+=result;
				numeros[i]=result;
			}
			var serie="";//variable para contener la serie de numero en cadena
			var numeroInt = 0;
			for (var cont = 0; cont<numeros.length;cont++){
				numeroString = numeros[cont]+"";//Conversion de int a string "forzada"
				serie += numeroString+",";
			}
			alert("La serie es: "+serie);
			alert("La suma total de la serie es: "+resultFinal);
			continuarEjecucion("fibonaci();");
		}

		function continuarEjecucion(funcion){
			//Comprobacion si se desea continuar ejecutando
			var r=confirm("Desea calcular denuevo:");
			if (r==true){
			  eval(funcion);//de esta forma podemos volver a llamar a la funcion cuyo nombre a sido pasado como parametro
			}
			else{
			  return;
		  	}
		}
		</script>
    </head>
    
    <body>
        <h1>Practica 1 - A</h1><hr />
        <fieldset>
        	<legend>ARARTADO A</legend>
        	
        	<table border="0px">
        		<tr>
        			<td width="350px">Cual de los elementos de texto es mayor: "hola","Adios"  </td>
        			<td><input type="button" value="Ejecutar" onclick="mayorString()" /></td>
        		</tr>
        		<tr>
        			<td width="350px">Determinar los operadores necesarios para obtener un resultado true y otro resultado false</td>
        			<td><input type="button" value="Ejecutar" onclick="booleanos()" /></td>
        		</tr>
        		<tr>
        			<td width="350px">Resultado de las cinco operaciones matematicas </td>
        			<td><input type="button" value="Ejecutar" onclick="controlDeOpMatematicas();" /></td>
        		</tr>
        		<tr>
        			<td width="350px">Introducir tres numero y ordenarlos ascendentemente: </td>
        			<td><input type="button" value="Ejecutar" onclick="ordenarAscendente()" /></td>
        		</tr>
        		<tr>
        			<td width="350px">Modificar los if para que se muestren los alert corrrectamente </td>
        			<td><input type="button" value="Ejecutar" onclick="ejer3()" /></td>
        		</tr>
        		<tr>
        			<td width="350px">Calcular el factorial de un numero </td>
        			<td><input type="button" value="Ejecutar" onclick="factorial()" /></td>
        		</tr>
        		<tr>
        			<td width="300px">Serie fibonaci de un numero </td>
        			<td><input type="button" value="Ejecutar" onclick="fibonaci()" /></td>
        		</tr>
        	</table>
        	</p>
        </fieldset>
    </body>
</html>
